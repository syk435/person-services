![Abacus Image](https://abacusinsights.com/wp-content/uploads/2018/02/abacus-logo.png)
# Sample Spring Boot REST API
### author: Salem Karani

## Install and Build
- Pull from the git repo at https://github.com/syk435/person-services.git
- For now, we will assume eclipse for demo purposes. But this is built on Maven, so will theoretically run in any setup
- We are running from within the IDE in a debug fashion, rather than in a standalone release version for now
- import a maven project into eclipse as shown below
- ![import maven](https://user-images.githubusercontent.com/3372447/37458879-bdd2604a-281c-11e8-95e3-612f50cd170a.gif)
- the main entry point for launching the server is in PersonServicesApplication.java, but you should be able to run with the preset configuration as shown below
- ![run server](https://user-images.githubusercontent.com/3372447/37458889-c82bc82e-281c-11e8-91ad-eba5fb730daf.gif)

## Code and Repo Organization
- high level docs of UML Class and Sequence diagrams are located in the /docs folder, as well as an overview of a basic REST API sequence
- The source files are located in /src/main/java/com/abacus/example/personservices/
- we have used an MVC setup for this application, with the Person class in the Model role, and PersonController + PersonService in the Controller role

## API overview
- Our methods and entrypoints are as follows:
    1. PUT /resources/data
    2. GET /resources/data/{data_id}
    3.  DELETE /resources/data/{data_id}
- The sample JSON is as shown here:
```
{ resourceType : Person, id : string, name : string, age : integer, locale : string }
```
- Test Cases for validation:
1. Given the element of data is a Person, when the system receives a PUT message, then the data specified in the payload of the request is persisted to local storage and an autogenerated id is added to the object and included in the response
2. Given the person exists, when the system receives a GET message, then the system returns the json payload of the object in the response
3. Given the person does not exist, when the system receives a GET message, then the system returns a HTTP 404 response
4. Given the person exists, when the system receives a DELETE message, then the system returns a success message with the json payload of the object in the response
5. Given the person does not exist, when the system receives a DELETE message, then the system returns a HTTP 404 response


- Sample test calls using curl:
PUT
```batch
curl -H 'Content-Type: application/json' -H 'Accept: application/json' -X PUT -d '{ "resourceType" : "Person","name" : "Jeb", "age" : 10, "locale" : "Atlanta" }' localhost:8080/resources/data
```
- ![PUT](https://user-images.githubusercontent.com/3372447/37458896-d24bb88c-281c-11e8-8914-bf2b8e08dc5a.gif)

- Sample test calls using curl:
GET
```batch
 curl -X GET -v localhost:8080/resources/data/i6g0jsufa98rer64ta4s23q2f2
 ```

-Sample test calls using curl:
DELETE
```batch
curl -X DELETE -v localhost:8080/resources/data/i6g0jsufa98rer64ta4s23q2f
```
- ![Get/Delete](https://user-images.githubusercontent.com/3372447/37458907-d82e0192-281c-11e8-9434-76d331fab4ed.gif)

## Testing
- We have enabled unit testing through junit for the individual services that drive the api calls. Due to time constraints, integration tests are not yet implemented other than the manual tests shown above
- The junit tests are preset and ready to be run from within the eclipse configuration
- The unit tests source is located at /src/test/java/com/abacus/example/personservices/controller/PersonControllerTest.java
- ![junit](https://user-images.githubusercontent.com/3372447/37458915-df412f5e-281c-11e8-9c8d-93474b6e6d53.gif)
- next steps would be to implement the integration tests and http status tests as shown [here!](http://www.baeldung.com/integration-testing-a-rest-api) and [here!](http://www.springboottutorial.com/unit-testing-for-spring-boot-rest-services)
